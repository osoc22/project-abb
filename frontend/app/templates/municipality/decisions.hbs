{{page-title 'Decisions'}}

<AuToolbar class='au-o-box' as |Group|>
  <Group>
    <AuHeading @skin='2'>
      Beslissingen in de gemeente
      {{this.model}}
    </AuHeading>
  </Group>
  <Group class='au-c-toolbar__group--center'>
    <AuButton @icon='book' @iconAlignment='left'>
      <LinkTo
        @model={{this.model}}
        @route={{'municipality.info'}}
        style='color: white; text-decoration: none;'
      >
        Algemene info
      </LinkTo>
    </AuButton>
  </Group>
</AuToolbar>
<div style='margin-top: 30px;'>
  <AuDataTable
    @content={{this.municipality.decisionData}}
    @fields='title description'
    @noDataMessage='Geen data'
    as |t|
  >
    <t.content as |c|>
      <c.header>
        <AuDataTableThSortable
          @field='title'
          @label='Categorie'
          @class='data-table__header-title'
        />
        <AuDataTableThSortable
          @field='description'
          @label='Datum'
          @class='data-table__header-title'
        />
        <AuDataTableThSortable
          @field='description'
          @label='Zie besluit'
          @class='data-table__header-title'
        />

      </c.header>
      <c.body as |row|>
        <td style='display: flex; align-items:center;'>
          {{#if row.actief}}
            <div
              style='border-radius: 100%; width:10px; height:10px; background-color:green; margin-right: 5px;'
            ></div>
          {{else}}
            <div
              style='border-radius: 100%; width:10px; height:10px; background-color:red; margin-right: 5px;'
            ></div>
          {{/if}}
          {{row.category}}
        </td>
        <td>
          {{row.date}}
        </td>
        <td>
          <AuLink
            @model={{this.id}}
            @route={{'municipality.decision'}}
            @icon='chevron-right'
          >
            Bekijk besluit
          </AuLink>
        </td>
      </c.body>
    </t.content>
  </AuDataTable>
  <div class='floating-button-dock'>
    <AuLink @route='municipality.decisions.subscribe'>
      <AuButton style='cursor: pointer; margin: 0px; text-decoration:none;'>
        Abonneren
      </AuButton>
    </AuLink>
  </div>
</div>
{{outlet}}
